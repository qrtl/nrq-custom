exclude: |
  (?x)
  # Files and folders generated by bots, to avoid loops
  ^setup/|/static/description/index\.html$|
  # Maybe reactivate this when all README files include prettier ignore tags?
  ^README\.md$|
  # Library files can have extraneous formatting (even minimized)
  /static/(src/)?lib/|
  /num2words/|
  # Repos using Sphinx to generate docs don't need prettying
  ^docs/_templates/.*\.html$|
  # You don't usually want a bot to modify your legal texts
  (LICENSE.*|COPYING.*)|
  # Exclude .travis.yml
  (^\.travis\.yml$)|
  # For v10.0 and before, exclude all oca modules
  account_analytic_required/|
  account_invoice_line_view_nrq/|
  account_type_menu/|
  auditlog/|
  auth_brute_force/|
  auth_signup_nrq/|
  auto_backup/|
  base_export_manager/|
  base_ir_values_security_adj/|
  base_optional_quick_create/|
  base_partner_number/|
  base_technical_features/|
  base_user_role/|
  date_range/|
  dbfilter_from_header/|
  help_online/|
  hr_attendance_timesheet_adj/|
  hr_employee_manager_follower/|
  hr_employee_nrq/|
  hr_expense_adj/|
  hr_expense_sheet_post/|
  hr_holidays_compute_days/|
  hr_holidays_compute_days_adj/|
  hr_holidays_notify_employee_manager/|
  hr_holidays_settings/|
  hr_public_holidays/|
  hr_timesheet_adj/|
  hr_timesheet_project_date_range_check/|
  hr_timesheet_sheet_work_hours_summary/|
  ir_sequence_range_month/|
  l10n_jp_hr_employee/|
  mail_hide_send_email_button/|
  product_permission_adj_nrq/|
  project_parent/|
  project_parent_adj/|
  project_view_adjust_nrq/|
  purchase_order_line_duplicate/|
  purchase_order_sale_order_nrq/|
  report_account_nrq/|
  report_common_nrq/|
  report_purchase_nrq/|
  report_sale_nrq/|
  sale_order_adj/|
  sale_order_line_duplicate/|
  sale_order_project/|
  sale_order_project_nrq/|
  sale_order_team_propose/|
  sale_price_unchange/|
  sale_quotation_approval/|
  translation_adj/|
  user_activity_log/|
  web_auto_complete_adj/|
  web_environment_ribbon/|
  web_export_view/|
  web_m2x_options/|
  web_responsive/|
  web_responsive_disable_search/|
  website_no_crawler/
default_language_version:
  python: python2.7
repos:
  - repo: https://github.com/psf/black
    rev: 19.10b0
    hooks:
      - id: black
  - repo: https://github.com/prettier/prettier
    rev: "1.19.1"
    hooks:
      - id: prettier
  # TODO Avoid awebdeveloper/pre-commit-prettier if possible
  # HACK https://github.com/prettier/prettier/issues/7407
  - repo: https://github.com/awebdeveloper/pre-commit-prettier
    rev: v0.0.1
    hooks:
      - id: prettier
        name: prettier xml plugin
        additional_dependencies:
          - "prettier@1.19.1"
          - "@prettier/plugin-xml@0.7.2"
        files: \.xml$
  - repo: https://github.com/pre-commit/mirrors-eslint
    rev: v6.8.0
    hooks:
      - id: eslint
        verbose: true
        args:
          - --color
          - --fix
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v2.4.0
    hooks:
      - id: trailing-whitespace
        # exclude autogenerated files
        exclude: /README\.rst$|\.pot?$
      - id: end-of-file-fixer
        # exclude autogenerated files
        exclude: /README\.rst$|\.pot?$
      - id: debug-statements
      # - id: fix-encoding-pragma
      #   args: ["--remove"]
      - id: check-case-conflict
      - id: check-docstring-first
      - id: check-executables-have-shebangs
      - id: check-merge-conflict
        # exclude files where underlines are not distinguishable from merge conflicts
        exclude: /README\.rst$|^docs/.*\.rst$
      - id: check-symlinks
      - id: check-xml
      - id: mixed-line-ending
        args: ["--fix=lf"]
  - repo: https://gitlab.com/pycqa/flake8
    rev: 3.7.9
    hooks:
      - id: flake8
        name: flake8 except __init__.py
        exclude: /__init__\.py$
        # additional_dependencies: ["flake8-bugbear==19.8.0"]
      - id: flake8
        name: flake8 only __init__.py
        args: ["--extend-ignore=F401"] # ignore unused imports in __init__.py
        files: /__init__\.py$
        # additional_dependencies: ["flake8-bugbear==19.8.0"]
  - repo: https://github.com/qrtl/pylint
    rev: pylint-1.9.5-custom
    hooks:
      - id: pylint
        name: pylint with optional checks
        args: ["--rcfile=.pylintrc", "--exit-zero"]
        verbose: true
        additional_dependencies: ["pylint-odoo"]
      - id: pylint
        name: pylint with mandatory checks
        args: ["--rcfile=.pylintrc-mandatory"]
        additional_dependencies: ["pylint-odoo"]
  - repo: https://github.com/asottile/pyupgrade
    rev: v1.26.2
    hooks:
      - id: pyupgrade
  - repo: https://github.com/asottile/seed-isort-config
    rev: v1.9.4
    hooks:
      - id: seed-isort-config
  - repo: https://github.com/pre-commit/mirrors-isort
    rev: v4.3.21
    hooks:
      - id: isort
        name: isort except __init__.py
        exclude: /__init__\.py$
